{% extends "base.html" %}

{% block content %}
<div class="row justify-content-center mt-5">
    <div class="col-md-10">
        <div class="card shadow-sm">
            <div class="card-header bg-warning text-dark">
                <h2 class="mb-0">ü©∫ Solicitar Verificaci√≥n M√©dica</h2>
            </div>
            {% if current_user.estado_verificacion == 'rechazada' %}
            <div class="alert alert-warning">
                <h5>üîÑ Segunda Solicitud</h5>
                <p class="mb-0">
                    Tu solicitud anterior fue rechazada. Por favor, verifica que todos los documentos sean 
                    <strong>oficiales, legibles y actualizados</strong> antes de enviar nuevamente.
                </p>
            </div>
            {% endif %}
            
            <div class="card-body">
                <div class="alert alert-info">
                    <strong>Informaci√≥n importante:</strong> Para ser verificado como m√©dico en nuestra plataforma, 
                    necesitamos validar tu informaci√≥n profesional. Este proceso puede tomar hasta 48 horas.
                </div>

                <form method="POST">
                    <!-- Informaci√≥n Profesional -->
                    <h5 class="mb-3">üìã Informaci√≥n Profesional</h5>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label">Especialidad Principal:</label>
                            <select name="especialidad" class="form-select" required>
                                <option value="">Seleccionar especialidad...</option>
                                <option value="Medicina General">Medicina General</option>
                                <option value="Pediatr√≠a">Pediatr√≠a</option>
                                <option value="Ginecolog√≠a">Ginecolog√≠a</option>
                                <option value="Cardiolog√≠a">Cardiolog√≠a</option>
                                <option value="Dermatolog√≠a">Dermatolog√≠a</option>
                                <option value="Ortopedia">Ortopedia</option>
                                <option value="Oftalmolog√≠a">Oftalmolog√≠a</option>
                                <option value="Psiquiatr√≠a">Psiquiatr√≠a</option>
                                <option value="Odontolog√≠a">Odontolog√≠a</option>
                                <option value="Otra">Otra especialidad</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">N√∫mero de Licencia M√©dica:</label>
                            <input type="text" class="form-control" name="licencia_medica" 
                                   placeholder="Ej: LM-123456" required>
                            <div class="form-text">N√∫mero oficial de colegiatura</div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Instituci√≥n o Colegio M√©dico:</label>
                        <input type="text" class="form-control" name="institucion" 
                               placeholder="Ej: Colegio M√©dico del Per√∫" required>
                    </div>

                    <!-- Experiencia Profesional -->
                    <h5 class="mb-3 mt-4">üíº Experiencia Profesional</h5>
                    
                    <div class="mb-3">
                        <label class="form-label">A√±os de Experiencia:</label>
                        <select name="experiencia_anos" class="form-select" required>
                            <option value="">Seleccionar...</option>
                            <option value="1-3">1-3 a√±os</option>
                            <option value="4-7">4-7 a√±os</option>
                            <option value="8-15">8-15 a√±os</option>
                            <option value="15+">M√°s de 15 a√±os</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Biograf√≠a Profesional:</label>
                        <textarea name="biografia" class="form-control" rows="4" 
                                  placeholder="Describe tu formaci√≥n acad√©mica, experiencia profesional, √°reas de especializaci√≥n..." 
                                  required></textarea>
                        <div class="form-text">Esta informaci√≥n ser√° visible para los pacientes</div>
                    </div>

                    <!-- Documentaci√≥n -->
                    <h5 class="mb-3 mt-4">üìÑ Documentaci√≥n Requerida</h5>
                    
                    <div class="mb-3">
                        <label class="form-label">Licencia M√©dica (PDF/Imagen):</label>
                        <input type="url" class="form-control" name="url_licencia" 
                               placeholder="https://drive.google.com/tu-licencia" required>
                        <div class="form-text">Sube una foto/escaneo de tu licencia m√©dica a Google Drive o similar</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Documento de Identidad (PDF/Imagen):</label>
                        <input type="url" class="form-control" name="url_identidad" 
                               placeholder="https://drive.google.com/tu-dni" required>
                        <div class="form-text">Foto/escaneo de DNI, c√©dula o pasaporte</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">CV o Hoja de Vida (PDF):</label>
                        <input type="url" class="form-control" name="url_cv" 
                               placeholder="https://drive.google.com/tu-cv">
                        <div class="form-text">Opcional pero recomendado</div>
                    </div>

                    <div class="alert alert-warning">
                        <strong>Instrucciones para subir archivos:</strong>
                        <ol class="mb-0">
                            <li>Sube tus documentos a Google Drive, Dropbox o similar</li>
                            <li>Aseg√∫rate de que los enlaces sean p√∫blicos o accesibles</li>
                            <li>Pega los enlaces en los campos correspondientes</li>
                        </ol>
                    </div>

                    <div class="form-check mb-3">
                        <input class="form-check-input" type="checkbox" name="confirmacion" id="confirmacion" required>
                        <label class="form-check-label" for="confirmacion">
                            Declaro bajo juramento que la informaci√≥n proporcionada es ver√≠dica y 
                            que poseo la licencia m√©dica correspondiente para ejercer la profesi√≥n.
                        </label>
                    </div>

                    <div class="d-flex justify-content-between">
                        <a href="{{ url_for('main.dashboard') }}" class="btn btn-secondary">Cancelar</a>
                        <button type="submit" class="btn btn-warning">Enviar Solicitud</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}